# 8ball-Uploader

cousin project of 8ball-fuma2

| Step | What to change (starting from 8ball-fuma2)                                           | Files / Areas involved                                                                                     | Result in 8ball-uploader                                                                                         |
|------|--------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|
| 1    | Create new repo `8ball-uploader` from this zip                                       | Git: `git init`, remote to new GitHub repo, first commit as “base from 8ball-fuma2”.                      | Clean separation: uploader evolves without breaking 8ball-fuma2.                                                 |
| 2    | Remove FumaDocs packages from dependencies                                           | `package.json` → remove `fumadocs-core`, `fumadocs-mdx`, `fumadocs-ui`. Optionally remove `@types/mdx`.   | Smaller dependency tree; no FumaDocs install/postinstall overhead.                                               |
| 3    | Remove FumaDocs MDX tooling from Next config                                         | Delete `source.config.ts`. Replace `next.config.mjs` `withMDX(config)` with plain Next config + `images`. | Next runs as a normal app router project; you can still add MDX later if needed via simple `@next/mdx`.         |
| 4    | Replace Root layout & home layout with plain Next components                         | `app/layout.tsx`: remove `RootProvider` import and usage; just render `<body>{children}</body>`.          | No dependency on `fumadocs-ui/provider/next`; layout becomes a standard Next layout.                             |
|      |                                                                                      | Delete/replace `app/(home)/layout.tsx` (remove `HomeLayout` usage).                                       | Home route free from FumaDocs layout; easier to customize uploader dashboard UI.                                |
| 5    | Remove docs-specific FumaDocs routing                                                | Delete `app/docs/layout.tsx` and `app/docs/[[...slug]]/page.tsx`.                                         | `/docs/*` no longer exists as FumaDocs pages; you’ll define uploader routes instead (e.g. `/uploader`).         |
|      |                                                                                      | Delete `app/api/search/route.ts`, `app/llms-full.txt/route.ts`, `app/og/docs/[...slug]/route.tsx`.        | Removes docs search, LLM text export, OG images that depend on `lib/source`.                                     |
| 6    | Remove collection-specific content that only makes sense for FumaDocs                | Delete `content/docs/*` **except** any pieces you still want as plain MD reference (optional).           | 8ball-uploader stops being a general “knowledge vault” and becomes focused on upload/album flows.               |
| 7    | Clean up shared FumaDocs helpers                                                     | Delete `lib/source.ts`, `lib/layout.shared.tsx`, `mdx-components.tsx`.                                    | No dangling imports to `source` or `baseOptions`; repo no longer assumes docs tree.                              |
| 8    | Keep & reuse OAuth as-is (minimal changes)                                           | Keep `auth.js`, `app/api/auth/[...nextauth]/route.js`.                                                    | You retain the working Google OAuth with the same env vars (`GOOGLE_CLIENT_ID`, `GOOGLE_CLIENT_SECRET`, etc.).  |
|      |                                                                                      | Optionally **generalize** the allowed email list later, but leave it as-is for now.                       | 8ball-uploader remains single-user gated initially (good for dev).                                              |
| 9    | Simplify middleware to gate the new uploader route instead of `/docs`                | Edit `middleware.ts`: instead of checking `pathname.startsWith("/docs")`, check `/uploader` or `/album`.  | Auth still enforced, but tied to your new uploader pages rather than FumaDocs docs tree.                        |
|      |                                                                                      | Update sign-in URL callback to your new landing path, e.g. `/uploader`.                                   | After Google sign-in, user lands directly on the uploader dashboard.                                             |
| 10   | Keep and repoint album APIs & UI                                                     | Keep `app/api/album/route.js`, `app/api/album-drive/route.js`, `lib/InfiniteAlbum.tsx`, `lib/InfiniteAlbumDrive.tsx`. | All infinite-scroll behavior is preserved as your “GDrive Gallery” foundation.                                   |
|      |                                                                                      | Create new page, e.g. `app/uploader/page.tsx`, that imports `<InfiniteAlbum />` & `<InfiniteAlbumDrive />`. | You get a simple uploader/gallery screen without FumaDocs — basically a pure NextJS+SWR+Drive viewer.           |
| 11   | Keep Google Drive env pattern unchanged                                              | Keep using `GOOGLE_DRIVE_API_KEY` and `GOOGLE_DRIVE_FOLDER_ID` as currently used in `album-drive` + `remote-page`. | 8ball-uploader can still read from the same Drive folder; later you’ll add upload endpoints to write into it.   |
| 12   | (Later) Add **upload**-specific API routes                                           | Add e.g. `app/api/upload/route.ts` using Google REST or a service account; reuse auth info if needed.     | This becomes the core 8ball-uploader feature while everything else stays slim and Drive-focused.                |
